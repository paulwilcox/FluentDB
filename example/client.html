<script type='module'>

    import sample from "../dist/sampleData.client.js";
    import sampleIdb from "../dist/sampleData.idb.js";
    import $$ from "../dist/FluentDB.client.next.js";

    let result = $$({
        sam: $$.idb('sampleData'),
        c: sample.customers,
        pc: sam => 'potentialCustomers', // new Promise(res => res(sample.potentialCustomers)),
        s: sam => 'shoplifters', // new Promise(res => res(sample.shoplifters)),
        o: sample.orders,
        p: sample.products
    })
    .filter(o => o.customer == 2)
    .test(
        'filter', 
        o => o,
        data =>  
            data.filter(x => x.customer == 2).length > 0 
            && data.filter(x => x.customer != 2).length == 0
    );

    console.log(result);


/*
    fetch('getMongo')
    .then(response => response.json())
    .then(json => console.log(JSON.stringify(json)))
    .catch(e => console.log({e}));
*/

</script>

