<script type='module'>

    import { sample } from '../dist/FluentDB.sample.client.js';
    import $$ from '../dist/FluentDB.client.next.js';

    let grouped = 
        $$({ o: sample.orders })
        //.group(o => o.customer)
        .fold(o => ({
            num: $$.sum(o.speed),
            den: $$.count(o.speed),
            avg: $$.avg(o.speed),
            sm: $$.sum(o.rating)
        }))
        .execute(o => o);

    console.log(grouped);

</script>