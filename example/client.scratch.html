<script type='module'>

    import { sample, sampleIdb } from "../dist/FluentDB.sample.client.js";
    import $$ from "../dist/FluentDB.client.next.js";

    let joined = 
        $$({
            o: sample.orders,
            p: sample.products,
            c: sample.customers
        })
        .join('inner', (o,p) => o.product == p.id)
        .join('left', (o,c) => o.customer == c.id, 'loop')
        .execute(o => ({
            customerName: o.fullname,
            productPrice: o.price,
            orderRating: o.rating
        }));

    console.log(joined);


</script>

