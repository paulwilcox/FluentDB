<script type='module'>

    import { sample, sampleIdb } from "../dist/FluentDB.sample.client.js";
    import $$ from "../dist/FluentDB.client.next.js";

    let joined = 
        $$({
            o: sample.orders,
            p: sample.products,
            c: sample.customers
        })
        .join('inner hash', 
            (o,p) => o.product == p.id, 
            (o,p) => ({ 
                ...o, ...p, 
                orderId: o.id, 
                productId: p.id, 
                price: undefined 
            })
        )
        .join('left loop', (o,c) => o.customer == c.id)
        .execute(o => o);

    console.log(joined);


</script>

